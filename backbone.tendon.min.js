var Tendon=function(){return{}}();Tendon.Vein=function(){"use strict";var a=function(){};return a.extend=Backbone.View.extend,_.extend(a.prototype,Backbone.Events),a}(),Tendon.View=function(){return Backbone.View.extend({initialize:function(a){return this.options=a||{},this.render(this.model&&this.model.attributes?this.model.attributes:{}),_.defer(_.bind(function(){(this.ui||this.options.ui)&&this.setUI(this.ui||this.options.ui),this.onRender&&_.isFunction(this.onRender)&&this.onRender(this.$el)},this)),this},render:function(a){if(void 0!==this.template){var b=_.extend(this.options&&this.options.globals?this.options:{},a);_.isFunction(Template.find(this.template))?this.setElement(Template.render(this.template,b)):_.isFunction(this.template)&&this.setElement(this.template(b))}return this},show:function(){return this.onShow&&_.isFunction(this.onShow)&&_.defer(_.bind(function(){this.onShow(this.$el)},this)),this},close:function(){return this.remove(),this.unbind(),this.onClose&&_.isFunction(this.onClose)&&_.defer(_.bind(function(){this.onClose(this)},this)),this},setUI:function(a){var b=this;return this.ui=function(){var c={};for(var d in a)c[d]=b.$el.find(a[d]);return c}(),this},setupUIEvents:function(a){return"undefined"!=typeof a?(_.each(_.keys(a),function(b){var c=b.split("@ui.");2===c.length&&(a[c[0]+this.ui[c[1]]]=a[b],delete a[b])},this),a):void 0},state:function(a,b){return _.isUndefined(b)||!_.isBoolean(b)?this.$el.hasClass("is-"+a):(b?this.$el.addClass("is-"+a):this.$el.removeClass("is-"+a),this)}})}(),Tendon.Yield=function(){"use strict";var a={insertMethod:"append"};return Tendon.View.extend({initialize:function(a){Tendon.View.prototype.initialize.call(this,a),this.childViews={}},_insert:function(b,c){void 0===this.childViews[b]?(this.childViews[b]=c,this.$el[a.insertMethod](c.el)):this.replace(b,c)},insert:function(){var b=_.toArray(arguments);_.isString(b[0])&&b[1]instanceof Backbone.View?this._insert(b[0],b[1]):b[0]instanceof Backbone.View?this._insert(b[0].cid,b[0]):_.isFunction(b[0])&&b[0].call(this,a)},find:function(){var a=_.toArray(arguments);return a[0]instanceof Backbone.View?this.childViews[a[0].cid]:this.childViews[a[0]]},findAll:function(){return _.map(this.childViews,function(a){return a})},_replace:function(a,b){this._remove(a),this._insert(a,b)},replace:function(){var b=_.toArray(arguments);b[0]instanceof Backbone.View&&b[1]instanceof Backbone.View?this._replace(b[0].cid,b[0]):_.isString(b[0])&&b[1]instanceof Backbone.View?this._replace(b[0],b[0]):_.isFunction(b[0])&&b[0].call(this,a)},_remove:function(a){_.isUndefined(this.childViews[a])||(this.childViews[a].close(),delete this.childViews[a])},remove:function(){var b=_.toArray(arguments);b[0]instanceof Backbone.View?this._remove(b[0].cid):_.isString(b[0])?this._remove(b[0]):_.isFunction(b[0])&&b[0].call(this,a)},removeAll:function(){_.each(childViews,function(a){void 0!==a.close&&a.close()})}})}(),Tendon.Composer=function(){"use strict";var a=Tendon.View.extend({initialize:function(a){Tendon.View.prototype.initialize.call(this,a),this.routes=this.options.routes||[this.options.defaultRoute||"main"],this.defaultRoute=_.first(this.routes),this.vein=this.options.vein||new Tendon.Vein,this.yield=this.options.yield||new Tendon.Yield,this.initContainers(),this.initListeners()},initContainers:function(){},initListeners:function(){var a=this;_.each(this.routes,function(){a.vein.on("route:")})}});return a}();